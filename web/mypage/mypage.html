<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>마이페이지 - 퍼펫트</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="mypage-styles.css" />
    <link rel="stylesheet" href="../common/tabbar.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="mypage-header">
      <div class="header-left">
        <img src="../svg/Union.svg" alt="logo" class="logo-image" />
        <h1 class="logo-text">퍼펫트</h1>
      </div>
      <div class="header-right">
        <svg
          class="header-icon"
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            cx="8"
            cy="8"
            r="5.5"
            stroke="#202027"
            stroke-width="1.5"
            fill="none"
          />
          <path
            d="M12.5 12.5L15.5 15.5"
            stroke="#202027"
            stroke-width="1.5"
            stroke-linecap="round"
          />
        </svg>
        <svg
          class="header-icon"
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9 2C6 2 4 4 4 7V9C4 10 3 11 2 12V14H16V12C15 11 14 10 14 9V7C14 4 12 2 9 2Z"
            stroke="#202027"
            stroke-width="1.5"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M6 14V15C6 16 7 17 9 17C11 17 12 16 12 15V14"
            stroke="#202027"
            stroke-width="1.5"
            fill="none"
            stroke-linecap="round"
          />
          <circle cx="9" cy="15.5" r="0.9" fill="#202027" />
        </svg>
        <svg
          class="header-icon"
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3 3H4.5L6.5 12H13.5L15 5H5"
            stroke="#202027"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <circle
            cx="7.5"
            cy="15.5"
            r="1.5"
            stroke="#202027"
            stroke-width="1.5"
            fill="none"
          />
          <circle
            cx="13.5"
            cy="15.5"
            r="1.5"
            stroke="#202027"
            stroke-width="1.5"
            fill="none"
          />
        </svg>
      </div>
    </header>

    <!-- 사용자 정보 섹션 -->
    <div class="user-info-section">
      <div class="user-profile-wrapper">
        <div class="user-profile-circle">
          <img src="../svg/Union.svg" alt="프로필" class="profile-icon" />
        </div>
        <div class="user-name">쿵이언니님</div>
      </div>
      <div class="user-actions">
        <button class="address-btn">
          <svg
            class="address-icon"
            width="13"
            height="13"
            viewBox="0 0 13 13"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M6.5 2L9 5H4L6.5 2Z" fill="#ffffff" />
            <path d="M3 5H10L6.5 11L3 5Z" fill="#ffffff" />
          </svg>
          <span>역삼동814-16</span>
        </button>
        <button class="benefit-link">
          <svg
            class="benefit-icon"
            width="13"
            height="13"
            viewBox="0 0 13 13"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M6.5 2L9 5H4L6.5 2Z" fill="#ffffff" />
            <path d="M3 5H10L6.5 11L3 5Z" fill="#ffffff" />
          </svg>
          <span>등급별 혜택보기</span>
        </button>
      </div>
    </div>

    <!-- 메인 카드 섹션 -->
    <div class="main-card">
      <!-- 상단 아이콘 메뉴 -->
      <div class="icon-menu">
        <div class="icon-menu-item">
          <div class="icon-badge">5</div>
          <span class="icon-label">쿠폰함</span>
        </div>
        <div class="icon-menu-item">
          <div class="icon-badge">3</div>
          <span class="icon-label">찜한 상품</span>
        </div>
        <div class="icon-menu-item">
          <div class="icon-badge">0</div>
          <span class="icon-label">주문/배송</span>
        </div>
      </div>

      <!-- 하단 버튼 -->
      <div class="card-buttons">
        <button class="card-btn">구매내역</button>
        <button class="card-btn">상품내역</button>
      </div>
    </div>

    <!-- 반려동물 프로필 섹션 -->
    <div class="pet-profile-section">
      <div class="section-header">
        <div class="section-banner">
          <svg
            class="section-banner-ribbon"
            width="273"
            height="30"
            viewBox="0 0 273 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6 0H267V25C267 27.7614 264.761 30 262 30H11C8.23858 30 6 27.7614 6 25V0Z"
              fill="#BBE8FF"
            />
            <path
              d="M92.5125 15.024C92.5925 15.024 92.6725 15.024 92.7525 15.024C92.8325 15.016 92.9165 15.008 93.0045 15L93.0405 10.572H91.7445L91.7685 15.048C91.9045 15.048 92.0325 15.048 92.1525 15.048C92.2805 15.04 92.4005 15.032 92.5125 15.024ZM98.2965 8.736V19.236H97.0005V13.128H94.9245V12.024H97.0005V8.736H98.2965ZM96.1245 15.828C95.5725 15.908 94.9845 15.972 94.3605 16.02C93.7445 16.068 93.1565 16.104 92.5965 16.128C92.3725 16.136 92.1245 16.144 91.8525 16.152C91.5885 16.16 91.2965 16.172 90.9765 16.188C90.6565 16.196 90.3605 16.204 90.0885 16.212C89.8245 16.212 89.5805 16.212 89.3565 16.212L89.2365 15.096C89.4205 15.096 89.6245 15.096 89.8485 15.096C90.0725 15.096 90.3205 15.092 90.5925 15.084L90.5565 10.572H89.5005V9.468H95.2485V10.572H94.2285L94.1925 14.928C94.8165 14.88 95.4245 14.82 96.0165 14.748L96.1245 15.828ZM102.664 13.5C102.76 13.492 102.856 13.488 102.952 13.488C103.048 13.488 103.144 13.484 103.24 13.476L103.276 10.32H102.304L102.328 13.524C102.384 13.516 102.436 13.512 102.484 13.512C102.54 13.512 102.6 13.508 102.664 13.5ZM109.456 15.756H108.208V8.736H109.456V15.756ZM107.404 15.024H106.156V12.3H104.98V11.148H106.156V8.916H107.404V15.024ZM106.528 15.924C106.528 16.26 106.624 16.584 106.816 16.896C107.016 17.2 107.272 17.476 107.584 17.724C107.904 17.98 108.26 18.196 108.652 18.372C109.044 18.556 109.436 18.688 109.828 18.768L109.144 19.788C108.76 19.692 108.392 19.56 108.04 19.392C107.696 19.232 107.38 19.052 107.092 18.852C106.804 18.644 106.548 18.424 106.324 18.192C106.108 17.968 105.94 17.736 105.82 17.496C105.692 17.736 105.516 17.968 105.292 18.192C105.076 18.424 104.824 18.644 104.536 18.852C104.248 19.052 103.932 19.232 103.588 19.392C103.244 19.56 102.88 19.692 102.496 19.788L101.812 18.768C102.196 18.688 102.584 18.556 102.976 18.372C103.368 18.196 103.724 17.98 104.044 17.724C104.356 17.476 104.612 17.2 104.812 16.896C105.012 16.584 105.112 16.26 105.112 15.924V15.432H106.528V15.924ZM105.424 14.268C105.088 14.332 104.692 14.388 104.236 14.436C103.78 14.484 103.3 14.528 102.796 14.568C102.316 14.6 101.864 14.628 101.44 14.652C101.016 14.676 100.636 14.688 100.3 14.688L100.18 13.596C100.308 13.596 100.452 13.596 100.612 13.596C100.772 13.596 100.948 13.592 101.14 13.584L101.104 10.32H100.36V9.228H105.112V10.32H104.428L104.404 13.368C104.572 13.344 104.728 13.324 104.872 13.308C105.024 13.284 105.16 13.256 105.28 13.224L105.424 14.268ZM111.039 18.204V17.124H121.119V18.204H111.039ZM112.623 15.072V9.336H119.475V10.416H113.907V11.64H119.331V12.744H113.907V13.992H119.655V15.072H112.623ZM122.39 11.508V10.44H128.63V11.508H122.39ZM123.662 9.888V8.796H127.346V9.888H123.662ZM126.65 13.884C126.65 13.74 126.618 13.608 126.554 13.488C126.498 13.368 126.418 13.264 126.314 13.176C126.21 13.08 126.086 13.008 125.942 12.96C125.806 12.904 125.662 12.876 125.51 12.876C125.35 12.876 125.202 12.904 125.066 12.96C124.93 13.008 124.81 13.08 124.706 13.176C124.602 13.264 124.518 13.368 124.454 13.488C124.398 13.608 124.37 13.74 124.37 13.884C124.37 14.028 124.398 14.16 124.454 14.28C124.518 14.4 124.602 14.508 124.706 14.604C124.81 14.692 124.93 14.764 125.066 14.82C125.202 14.868 125.35 14.892 125.51 14.892C125.662 14.892 125.806 14.868 125.942 14.82C126.086 14.764 126.21 14.692 126.314 14.604C126.418 14.508 126.498 14.4 126.554 14.28C126.618 14.16 126.65 14.028 126.65 13.884ZM127.838 13.884C127.838 14.172 127.778 14.44 127.658 14.688C127.538 14.936 127.374 15.152 127.166 15.336C126.958 15.52 126.71 15.664 126.422 15.768C126.142 15.872 125.838 15.924 125.51 15.924C125.182 15.924 124.874 15.872 124.586 15.768C124.306 15.664 124.062 15.52 123.854 15.336C123.646 15.152 123.482 14.936 123.362 14.688C123.242 14.44 123.182 14.172 123.182 13.884C123.182 13.596 123.242 13.328 123.362 13.08C123.482 12.832 123.646 12.616 123.854 12.432C124.062 12.248 124.306 12.104 124.586 12C124.874 11.896 125.182 11.844 125.51 11.844C125.838 11.844 126.142 11.896 126.422 12C126.71 12.104 126.958 12.248 127.166 12.432C127.374 12.616 127.538 12.832 127.658 13.08C127.778 13.328 127.838 13.596 127.838 13.884ZM131.222 19.848H124.61V16.764H125.93V18.744H131.222V19.848ZM132.638 13.5H130.946V17.076H129.65V8.736H130.946V12.396H132.638V13.5ZM147.04 13.068H145.348V16.428H144.052V8.736H145.348V11.964H147.04V13.068ZM136.588 14.244C136.916 14.244 137.26 14.24 137.62 14.232C137.98 14.224 138.352 14.212 138.736 14.196V11.676H140.032V14.136C140.064 14.136 140.092 14.136 140.116 14.136C140.148 14.128 140.184 14.124 140.224 14.124C140.88 14.084 141.496 14.044 142.072 14.004C142.656 13.956 143.14 13.904 143.524 13.848L143.644 14.916C143.236 14.972 142.74 15.024 142.156 15.072C141.58 15.12 140.968 15.164 140.32 15.204C139.672 15.244 139.04 15.28 138.424 15.312C137.808 15.336 137.224 15.348 136.672 15.348L136.588 14.244ZM145.624 19.488H139.012V16.164H140.332V18.384H145.624V19.488ZM140.968 13.164C141.08 12.684 141.168 12.192 141.232 11.688C141.296 11.184 141.336 10.74 141.352 10.356H137.404V9.252H142.696C142.688 10.004 142.644 10.728 142.564 11.424C142.492 12.12 142.384 12.768 142.24 13.368L140.968 13.164ZM155.415 8.736H156.711V19.236H155.415V8.736ZM149.535 15.3C149.951 15.308 150.383 15.3 150.831 15.276C151.287 15.252 151.735 15.216 152.175 15.168C152.607 15.12 153.023 15.068 153.423 15.012C153.823 14.948 154.191 14.88 154.527 14.808L154.683 15.912C153.835 16.08 152.863 16.212 151.767 16.308C150.671 16.396 149.495 16.432 148.239 16.416V12.3H151.671V10.452H148.239V9.348H152.931V13.404H149.535V15.3ZM170.705 8.736V12.132H172.481V13.236H170.705V19.236H169.409V8.736H170.705ZM162.065 15.732C162.913 15.42 163.641 15.048 164.249 14.616C164.857 14.184 165.349 13.668 165.725 13.068L162.449 13.368L162.197 12.18L166.241 11.928C166.369 11.52 166.453 11.072 166.493 10.584H162.713V9.468H167.885C167.909 10.436 167.809 11.308 167.585 12.084C167.361 12.86 167.021 13.548 166.565 14.148C166.109 14.756 165.565 15.276 164.933 15.708C164.309 16.14 163.601 16.5 162.809 16.788L162.065 15.732ZM172.96 17.844V16.764H183.04V17.844H172.96ZM174.604 14.568V9.324H181.372V10.404H175.888V13.488H181.528V14.568H174.604Z"
              fill="white"
            />
            <path d="M273 12L267 0V12H273Z" fill="#BBE8FF" />
            <path d="M0 12L6 0V12H0Z" fill="#BBE8FF" />
          </svg>
          <span class="section-banner-text"
            >반려동물의 프로필을 확인해 보세요!</span
          >
        </div>
      </div>

      <div class="pet-profile-card">
        <div class="pet-profile-content">
          <div class="pet-profile">
            <div class="pet-image">
              <!-- 동적으로 이미지 추가됨 -->
            </div>
          </div>
          <div class="pet-info">
            <div class="pet-name-wrapper">
              <span class="gender-icon"></span>
              <div class="pet-name">쿵이</div>
            </div>
            <div class="pet-breed-meta-wrapper">
              <div class="pet-breed"></div>
              <div class="pet-meta">
                <span class="pet-age"></span>
                <span class="separator">·</span>
                <span class="pet-weight"></span>
              </div>
            </div>
            <div class="pet-tags">
              <!-- 동적으로 생성됨 -->
            </div>
          </div>
          <div class="pet-actions">
            <button class="edit-btn">수정</button>
            <button class="delete-pet-btn">삭제</button>
          </div>
        </div>
      </div>

      <!-- 다른 내새꾸 등록 -->
      <div class="add-pet-card">
        <div class="add-pet-content">
          <span class="add-pet-text">다른 내새꾸 등록</span>
          <div class="add-pet-button">
            <span class="add-pet-plus">+</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 설정 메뉴 -->
    <div class="settings-section">
      <div class="settings-item">
        <span class="settings-label">Push 알림 설정</span>
        <svg
          class="settings-arrow"
          width="19"
          height="19"
          viewBox="0 0 19 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7 5L12 9.5L7 14"
            stroke="#202027"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <div class="settings-item">
        <span class="settings-label">고객센터</span>
        <svg
          class="settings-arrow"
          width="19"
          height="19"
          viewBox="0 0 19 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7 5L12 9.5L7 14"
            stroke="#202027"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <div class="settings-item logout-item" id="logoutBtn">
        <span class="settings-label logout-label">로그아웃</span>
        <svg
          class="settings-arrow"
          width="19"
          height="19"
          viewBox="0 0 19 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7 5L12 9.5L7 14"
            stroke="#202027"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
    </div>

    <!-- TabBar -->
    <div class="tabbar">
      <div class="tabbar-tabs">
        <div class="tab-item">
          <img src="../svg/shop.svg" alt="자사몰" class="tab-icon" />
          <span class="tab-label">자사몰</span>
        </div>
        <div class="tab-item">
          <img src="../svg/hospital.svg" alt="병원" class="tab-icon" />
          <span class="tab-label">병원</span>
        </div>
        <div class="tab-item active">
          <img src="../svg/home.svg" alt="홈" class="tab-icon" />
          <span class="tab-label">홈</span>
        </div>
        <div class="tab-item">
          <img src="../svg/vet.svg" alt="수의사" class="tab-icon" />
          <span class="tab-label">수의사</span>
        </div>
        <div class="tab-item">
          <img
            src="../svg/icon_community.svg"
            alt="커뮤니티"
            class="tab-icon"
          />
          <span class="tab-label">커뮤니티</span>
        </div>
      </div>
    </div>

    <script src="../common/auth-check.js"></script>
    <script src="../common/supabase-config.js"></script>
    <script src="mypage-script.js"></script>
    <script src="../common/tabbar.js"></script>
    <script>
      // 인증 체크
      document.addEventListener("DOMContentLoaded", function () {
        checkAuth();

        // 로그아웃 버튼 클릭 이벤트
        const logoutBtn = document.getElementById("logoutBtn");
        if (logoutBtn) {
          logoutBtn.addEventListener("click", function () {
            logout();
          });
        }
      });
    </script>
  </body>
</html>
